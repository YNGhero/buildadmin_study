import{b as y,T as k,a as I}from"./index-30b244da.js";import{k as L}from"./controllerUrls-941681c3.js";import{a as E,P as w}from"./popupForm-d90471f4.js";import{E as v}from"./common-60f70958.js";import{d,X as q,z,av as N,w as S,a as l,t as R,u as a,c as i,M as u,e as n,b as m,A as x,N as A,x as C,K as P,f as T,r as p,al as U,R as D}from"./vue-a70dbbf9.js";import{a as B}from"./index-363faea7.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./random-1d7fa280.js";import"./iconfont-0e6ed700.js";import"./index-20feb690.js";import"./index-05f0e37d.js";import"./index-06cda30d.js";import"./validate-44e9fa1e.js";const F={class:"default-main ba-table-box"},K={class:"table-header-operate-text"},G=d({name:"user/scoreLog"}),ae=d({...G,setup(V){const{t:e}=B(),f=q(),b=T().query.user_id??"",t=z({userInfo:{}}),r=new y(new v(L),{column:[{type:"selection",align:"center",operator:!1},{label:e("id"),prop:"id",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query"),width:70},{label:e("user.moneyLog.User ID"),prop:"user_id",align:"center",operator:"=",width:70},{label:e("user.moneyLog.User name"),prop:"user.username",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query")},{label:e("user.moneyLog.User nickname"),prop:"user.nickname",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query")},{label:e("user.scoreLog.Change points"),prop:"score",align:"center",operator:"RANGE",sortable:"custom"},{label:e("user.moneyLog.Before change"),prop:"before",align:"center",operator:"RANGE",sortable:"custom"},{label:e("user.moneyLog.After change"),prop:"after",align:"center",operator:"RANGE",sortable:"custom"},{label:e("user.moneyLog.remarks"),prop:"memo",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query"),"show-overflow-tooltip":!0},{label:e("createtime"),prop:"createtime",align:"center",render:"datetime",sortable:"custom",operator:"RANGE",width:160}],dblClickNotEditColumn:["all"]},{defaultItems:{user_id:b,memo:""}},{},{onSubmit:()=>{s(r.comSearch.form.user_id)}});r.mount(),r.getIndex(),U("baTable",r);const s=o=>{o&&N(o)>0?E(o).then(c=>{t.userInfo=c.data.user}):t.userInfo={}};return s(r.comSearch.form.user_id),S(()=>r.comSearch.form.user_id,o=>{r.form.defaultItems.user_id=o,s(o)}),(o,c)=>{const h=p("el-alert"),_=p("el-button"),g=D("blur");return l(),R("div",F,[a(r).table.remark?(l(),i(h,{key:0,class:"ba-table-alert",title:a(r).table.remark,type:"info","show-icon":""},null,8,["title"])):u("",!0),n(k,{buttons:["refresh","add","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":a(e)("quick Search Placeholder",{fields:a(e)("user.moneyLog.User name")+"/"+a(e)("user.moneyLog.User nickname")})},{default:m(()=>[a(x)(t.userInfo)?u("",!0):A((l(),i(_,{key:0,class:"table-header-operate"},{default:m(()=>[C("span",K,P(t.userInfo.username+"(ID:"+t.userInfo.id+") "+a(e)("user.scoreLog.integral")+":"+t.userInfo.score),1)]),_:1})),[[g]])]),_:1},8,["quick-search-placeholder"]),n(I,{ref_key:"tableRef",ref:f},null,512),n(w)])}}});export{ae as default};
