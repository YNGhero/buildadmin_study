import{b as f,T as b,a as h}from"./index-30b244da.js";import{u as g}from"./controllerUrls-941681c3.js";import _ from"./popupForm-d03ecb93.js";import{d as k}from"./index-20feb690.js";import{E as y}from"./common-60f70958.js";import{a as v}from"./index-363faea7.js";import{d,X as p,an as I,o as T,a as c,t as w,u as l,c as C,M as q,e as s,r as E,al as N}from"./vue-a70dbbf9.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./random-1d7fa280.js";import"./iconfont-0e6ed700.js";import"./index-05f0e37d.js";import"./index-06cda30d.js";import"./validate-44e9fa1e.js";const R={class:"default-main ba-table-box"},A=d({name:"user/group"}),$=d({...A,setup(F){const{t}=v(),n=p(),i=p(),e=new f(new y(g),{column:[{type:"selection",align:"center",operator:!1},{label:t("id"),prop:"id",align:"center",operator:"LIKE",operatorPlaceholder:t("Fuzzy query"),width:70},{label:t("user.group.Group name"),prop:"name",align:"center",operator:"LIKE",operatorPlaceholder:t("Fuzzy query")},{label:t("state"),prop:"status",align:"center",render:"tag",custom:{0:"danger",1:"success"},replaceValue:{0:t("Disable"),1:t("Enable")}},{label:t("updatetime"),prop:"updatetime",align:"center",render:"datetime",sortable:"custom",operator:"RANGE",width:160},{label:t("createtime"),prop:"createtime",align:"center",render:"datetime",sortable:"custom",operator:"RANGE",width:160},{label:t("operate"),align:"center",width:"130",render:"buttons",buttons:k(["edit","delete"]),operator:!1}],dblClickNotEditColumn:[void 0]},{defaultItems:{status:"1"}},{onSubmit:({formEl:o,items:a})=>{var a=I(a);a.rules=i.value.getCheckeds();for(const r in a)a[r]===null&&delete a[r];let m=()=>{e.form.submitLoading=!0,e.api.postData(e.form.operate,a).then(r=>{var u;e.onTableHeaderAction("refresh",{}),e.form.submitLoading=!1,(u=e.form.operateIds)==null||u.shift(),e.form.operateIds.length>0?e.toggleForm("edit",e.form.operateIds):e.toggleForm(),e.runAfter("onSubmit",{res:r})}).catch(()=>{e.form.submitLoading=!1})};return o?(e.form.ref=o,o.validate(r=>{r&&m()})):m(),!1}});return N("baTable",e),T(()=>{e.table.ref=n.value,e.mount(),e.getIndex()}),(o,G)=>{const a=E("el-alert");return c(),w("div",R,[l(e).table.remark?(c(),C(a,{key:0,class:"ba-table-alert",title:l(e).table.remark,type:"info","show-icon":""},null,8,["title"])):q("",!0),s(b,{buttons:["refresh","add","edit","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":l(t)("quick Search Placeholder",{fields:l(t)("user.group.GroupName")})},null,8,["quick-search-placeholder"]),s(h,{ref_key:"tableRef",ref:n},null,512),s(_,{ref_key:"formRef",ref:i},null,512)])}}});export{$ as default};
