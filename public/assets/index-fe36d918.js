import{u as O,B as ne,a as pe,c as Ye,A as me,d as we,e as je}from"./index-363faea7.js";import{d as Me,S as ee,u as H,L as J,v as Te,w as Ge,j as Ae,r as Re,x as Je,i as Qe}from"./common-60f70958.js";import{u as fe,t as L}from"./terminal-b1968992.js";import{d as M,a as u,t as B,u as e,M as R,v as te,K as x,c as T,S as P,a2 as j,r as _,O as Q,P as N,b as l,e as n,x as m,X as ie,z as Y,s as ae,o as G,a3 as ve,f as se,n as le,a4 as Se,h as _e,N as K,a5 as Fe,a6 as ge,a7 as Ze,a8 as et,Q as Le,a0 as oe,L as $,T as ze,U as Ee,w as De,a9 as tt,aa as Be,ab as ot,R as nt,ac as at,ad as ye,ae as Ne,Y as lt,af as st,A as rt}from"./vue-a70dbbf9.js";import{_ as ct,D as ut,a as it}from"./useDark-7f0c560b.js";import{c as dt,o as Pe,g as We,r as de,s as mt,h as _t}from"./router-ac6e3d10.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";import{h as pt}from"./horizontalScroll-2b4beced.js";import{I as ft}from"./index-30b244da.js";import{a as vt,i as gt}from"./index-a508c8b4.js";import{F as ce}from"./index-06cda30d.js";import{u as $e}from"./random-1d7fa280.js";import{m as yt}from"./layout-4958c16f.js";import"./index-20feb690.js";import"./memberCenter-631674a8.js";import"./iconfont-0e6ed700.js";import"./controllerUrls-941681c3.js";import"./index-05f0e37d.js";const bt={class:"layout-logo"},ht={key:0,class:"logo-img",src:ct,alt:"logo"},Ct=M({__name:"logo",setup(y){j(c=>({"7ccdc331":e(t).layout.layoutMode!="Streamline"?e(t).getColorVal("menuTopBarBackground"):"transparent"}));const t=O(),o=Me(),r=function(){t.layout.shrink&&!t.layout.menuCollapse&&dt(),t.setLayout("menuCollapse",!t.layout.menuCollapse),ee.set(ne,{layoutMode:t.layout.layoutMode,menuCollapse:t.layout.menuCollapse})};return(c,d)=>{const b=_("Icon");return u(),B("div",bt,[e(t).layout.menuCollapse?R("",!0):(u(),B("img",ht)),e(t).layout.menuCollapse?R("",!0):(u(),B("div",{key:1,style:te({color:e(t).getColorVal("menuActiveColor")}),class:"website-name"},x(e(o).siteName),5)),e(t).layout.layoutMode!="Streamline"?(u(),T(b,{key:2,onClick:r,name:e(t).layout.menuCollapse?"fa fa-indent":"fa fa-dedent",class:P([e(t).layout.menuCollapse?"unfold":"","fold"]),color:e(t).getColorVal("menuActiveColor"),size:"18"},null,8,["name","class","color"])):R("",!0)])}}});const qe=z(Ct,[["__scopeId","data-v-2bc92dbe"]]),kt=M({__name:"menuTree",props:{menus:{default:()=>[]}},setup(y){const t=y;j(r=>({"6f1e2526":e(o).getColorVal("menuActiveBackground")}));const o=O();return(r,c)=>{const d=_("Icon"),b=_("menu-tree",!0),h=_("el-sub-menu"),w=_("el-menu-item");return u(!0),B(N,null,Q(t.menus,i=>(u(),B(N,null,[i.children&&i.children.length>0?(u(),T(h,{index:i.path,key:i.path},{title:l(()=>{var C,f,a,s;return[n(d,{color:e(o).getColorVal("menuColor"),name:(C=i.meta)!=null&&C.icon?(f=i.meta)==null?void 0:f.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,x((a=i.meta)!=null&&a.title?(s=i.meta)==null?void 0:s.title:r.$t("noTitle")),1)]}),default:l(()=>[n(b,{menus:i.children},null,8,["menus"])]),_:2},1032,["index"])):(u(),T(w,{index:i.path,key:i.path,onClick:C=>e(Pe)(i)},{default:l(()=>{var C,f,a,s;return[n(d,{color:e(o).getColorVal("menuColor"),name:(C=i.meta)!=null&&C.icon?(f=i.meta)==null?void 0:f.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,x((a=i.meta)!=null&&a.title?(s=i.meta)==null?void 0:s.title:r.$t("noTitle")),1)]}),_:2},1032,["index","onClick"]))],64))),256)}}});const Ue=z(kt,[["__scopeId","data-v-e741bd8b"]]),xt=M({__name:"menuVertical",setup(y){j(i=>({db7c2932:e(b),"4ab202ee":e(t).getColorVal("menuBackground"),"3aae9b5e":e(t).getColorVal("menuColor"),"6eb98f2b":e(t).getColorVal("menuActiveColor")}));const t=O(),o=H(),r=se(),c=ie(),d=Y({defaultActive:""}),b=ae(()=>{let i=0;return t.layout.menuShowTopBar&&(i=50),t.layout.layoutMode=="Default"?"calc(100vh - "+(32+i)+"px)":"calc(100vh - "+i+"px)"}),h=i=>{d.defaultActive=i.path},w=()=>{le(()=>{var C;let i=document.querySelector(".el-menu.layouts-menu-vertical li.is-active");if(!i)return!1;(C=c.value)==null||C.setScrollTop(i.offsetTop)})};return G(()=>{h(r),w()}),ve(i=>{h(i)}),(i,C)=>{const f=_("el-menu"),a=_("el-scrollbar");return u(),T(a,{ref_key:"verticalMenusRef",ref:c,class:"vertical-menus-scrollbar"},{default:l(()=>[n(f,{class:"layouts-menu-vertical","collapse-transition":!1,"unique-opened":e(t).layout.menuUniqueOpened,"default-active":d.defaultActive,collapse:e(t).layout.menuCollapse},{default:l(()=>[n(Ue,{menus:e(o).state.tabsViewRoutes},null,8,["menus"])]),_:1},8,["unique-opened","default-active","collapse"])]),_:1},512)}}});const wt=M({name:"layout/aside"}),Tt=M({...wt,setup(y){j(c=>({"819145a2":e(r)}));const t=O(),o=H(),r=ae(()=>t.menuWidth());return(c,d)=>{const b=_("el-aside");return e(o).state.tabFullScreen?R("",!0):(u(),T(b,{key:0,class:P("layout-aside-"+e(t).layout.layoutMode+" "+(e(t).layout.shrink?"shrink":""))},{default:l(()=>[e(t).layout.menuShowTopBar?(u(),T(qe,{key:0})):R("",!0),n(xt)]),_:1},8,["class"]))}}});const Oe=z(Tt,[["__scopeId","data-v-bcb70958"]]);function He(){if(!Se())throw new Error("useCurrentInstance() can only be used inside setup() or functional components!");const{appContext:y}=Se();return{proxy:y.config.globalProperties}}const St={class:"el-dropdown-menu"},Bt=["onClick"],$t=M({__name:"index",props:{width:{default:150},items:{default:()=>[]}},emits:["contextmenuItemClick"],setup(y,{expose:t,emit:o}){const r=y,c=Y({show:!1,axis:{x:0,y:0},menu:void 0,arrowAxis:10}),d=(w,i)=>{c.menu=w,c.axis=i,c.show=!0},b=w=>{w.disabled||(w.menu=Ze(c.menu),o("contextmenuItemClick",w))},h=()=>{c.show=!1};return t({onShowContextmenu:d,onHideContextmenu:h}),G(()=>{_e(document,"click",h)}),(w,i)=>{const C=_("Icon");return u(),T(ge,{name:"el-zoom-in-center"},{default:l(()=>[K((u(),B("div",{class:"el-popper is-pure is-light el-dropdown__popper ba-contextmenu",style:te(`top: ${c.axis.y+5}px;left: ${c.axis.x-14}px;width:${r.width}px`),key:Math.random(),"aria-hidden":"false","data-popper-placement":"bottom"},[m("ul",St,[(u(!0),B(N,null,Q(r.items,(f,a)=>(u(),B("li",{key:a,class:P(["el-dropdown-menu__item",f.disabled?"is-disabled":""]),tabindex:"-1",onClick:s=>b(f)},[n(C,{size:"12",name:f.icon},null,8,["name"]),m("span",null,x(f.label),1)],10,Bt))),128))]),m("span",{class:"el-popper__arrow",style:te({left:`${c.arrowAxis}px`})},null,4)],4)),[[Fe,c.show]])]),_:1})}}});const It=z($t,[["__scopeId","data-v-f1121b30"]]),Vt=["onClick","onContextmenu"],Mt=M({__name:"tabs",setup(y){j(v=>({"31b5539f":e(r).getColorVal("headerBarTabColor"),"2e2f7df9":e(r).getColorVal("headerBarTabActiveColor"),"259678a4":e(r).layout.layoutMode=="Default"?"none":e(r).getColorVal("headerBarBackground")}));const t=se(),o=Le(),r=O(),c=H(),{proxy:d}=He(),b=ie(),h=et(),w=ie(),i=Y({contextmenuItems:[{name:"refresh",label:"重新加载",icon:"fa fa-refresh"},{name:"close",label:"关闭标签",icon:"fa fa-times"},{name:"fullScreen",label:"当前标签全屏",icon:"el-icon-FullScreen"},{name:"closeOther",label:"关闭其他标签",icon:"fa fa-minus"},{name:"closeAll",label:"关闭全部标签",icon:"fa fa-stop"}]}),C=Y({width:"0",transform:"translateX(0px)"}),f=v=>{o.push(v)},a=(v,I)=>{i.contextmenuItems[0].disabled=t.path!==v.path,i.contextmenuItems[4].disabled=i.contextmenuItems[3].disabled=c.state.tabsView.length==1;const{clientX:S,clientY:q}=I;w.value.onShowContextmenu(v,{x:S,y:q})},s=function(v){if(!v)return!1;C.width=v.clientWidth+"px",C.transform=`translateX(${v.offsetLeft}px)`;let I=v.offsetLeft+v.clientWidth-b.value.clientWidth;v.offsetLeft<b.value.scrollLeft?b.value.scrollTo(v.offsetLeft,0):I>b.value.scrollLeft&&b.value.scrollTo(I,0)},F=()=>{const v=c.state.tabsView.slice(-1)[0];v?o.push(v.path):o.push("/admin")},E=v=>{var I;c.closeTab(v),d.eventBus.emit("onTabViewClose",v),((I=c.state.activeRoute)==null?void 0:I.path)===v.path?F():(c.setActiveRoute(c.state.activeRoute),le(()=>{s(h.value[c.state.activeIndex])})),w.value.onHideContextmenu()},p=v=>{var I;c.closeTabs(v),c.setActiveRoute(v),((I=c.state.activeRoute)==null?void 0:I.path)!==t.path&&o.push(v.path)},A=v=>{let I=We(c.state.tabsViewRoutes);if(I&&I.path==v.path)return p(v);c.closeTabs(!1),I&&de(I.path)},W=async v=>{const{name:I,menu:S}=v;if(S)switch(I){case"refresh":d.eventBus.emit("onTabViewRefresh",S);break;case"close":E(S);break;case"closeOther":p(S);break;case"closeAll":A(S);break;case"fullScreen":t.path!==(S==null?void 0:S.path)&&o.push(S==null?void 0:S.path),c.setFullScreen(!0);break}},V=function(v){c.addTab(v),c.setActiveRoute(v),le(()=>{s(h.value[c.state.activeIndex])})};return ve(async v=>{V(v)}),G(()=>{V(o.currentRoute.value),new pt(b.value)}),(v,I)=>{const S=_("Icon");return u(),B(N,null,[m("div",{class:"nav-tabs",ref_key:"tabScrollbarRef",ref:b},[(u(!0),B(N,null,Q(e(c).state.tabsView,(q,Z)=>(u(),B("div",{onClick:D=>f(q),onContextmenu:oe(D=>a(q,D),["prevent"]),class:P(["ba-nav-tab",e(c).state.activeIndex==Z?"active":""]),ref_for:!0,ref:e(h).set,key:Z},[$(x(q.meta.title)+" ",1),n(ge,{onAfterLeave:I[0]||(I[0]=D=>s(e(h)[e(c).state.activeIndex])),name:"el-fade-in"},{default:l(()=>[K(n(S,{class:"close-icon",onClick:oe(D=>E(q),["stop"]),size:"15",name:"el-icon-Close"},null,8,["onClick"]),[[Fe,e(c).state.tabsView.length>1]])]),_:2},1024)],42,Vt))),128)),m("div",{style:te(C),class:"nav-tabs-active-box"},null,4)],512),n(It,{ref_key:"contextmenuRef",ref:w,items:i.contextmenuItems,onContextmenuItemClick:W},null,8,["items"])],64)}}});const Ke=z(Mt,[["__scopeId","data-v-1d396a22"]]),Ie=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],X=(()=>{if(typeof document>"u")return!1;const y=Ie[0],t={};for(const o of Ie)if((o==null?void 0:o[1])in document){for(const[c,d]of o.entries())t[y[c]]=d;return t}return!1})(),Ve={change:X.fullscreenchange,error:X.fullscreenerror};let U={request(y=document.documentElement,t){return new Promise((o,r)=>{const c=()=>{U.off("change",c),o()};U.on("change",c);const d=y[X.requestFullscreen](t);d instanceof Promise&&d.then(c).catch(r)})},exit(){return new Promise((y,t)=>{if(!U.isFullscreen){y();return}const o=()=>{U.off("change",o),y()};U.on("change",o);const r=document[X.exitFullscreen]();r instanceof Promise&&r.then(o).catch(t)})},toggle(y,t){return U.isFullscreen?U.exit():U.request(y,t)},onchange(y){U.on("change",y)},onerror(y){U.on("error",y)},on(y,t){const o=Ve[y];o&&document.addEventListener(o,t,!1)},off(y,t){const o=Ve[y];o&&document.removeEventListener(o,t,!1)},raw:X};Object.defineProperties(U,{isFullscreen:{get:()=>Boolean(document[X.fullscreenElement])},element:{enumerable:!0,get:()=>document[X.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>Boolean(document[X.fullscreenEnabled])}});X||(U={isEnabled:!1});const ue=U,be=y=>(ze("data-v-755d04c9"),y=y(),Ee(),y),At={class:"layout-config-drawer"},Rt={class:"layout-mode-styles-box"},Ft={class:"layout-mode-box-style"},Lt=be(()=>m("div",{class:"layout-mode-style-box"},[m("div",{class:"layout-mode-style-aside"}),m("div",{class:"layout-mode-style-container-box"},[m("div",{class:"layout-mode-style-header"}),m("div",{class:"layout-mode-style-container"})])],-1)),zt={class:"layout-mode-style-name"},Et=be(()=>m("div",{class:"layout-mode-style-box"},[m("div",{class:"layout-mode-style-aside"}),m("div",{class:"layout-mode-style-container-box"},[m("div",{class:"layout-mode-style-header"}),m("div",{class:"layout-mode-style-container"})])],-1)),Dt={class:"layout-mode-style-name"},Nt=be(()=>m("div",{class:"layout-mode-style-box"},[m("div",{class:"layout-mode-style-container-box"},[m("div",{class:"layout-mode-style-header"}),m("div",{class:"layout-mode-style-container"})])],-1)),Pt={class:"layout-mode-style-name"},Wt={class:"layout-config-global"},qt={class:"layout-config-aside"},Ut={class:"layout-config-aside"},Ot={class:"ba-center"},Ht=M({__name:"config",setup(y){const{t}=pe(),o=O(),r=H(),c=Le(),d=(f,a)=>{o.setLayout(a,f)},b=(f,a)=>{if(f===null)return;const s=o.layout[a];o.layout.isDark?s[1]=f:s[0]=f,o.setLayout(a,s)},h=f=>{ee.set(ne,{layoutMode:f,menuCollapse:o.layout.menuCollapse}),o.setLayoutMode(f)},w=(f,a)=>{o.setLayout(a,f);const s=r.state.tabsViewRoutes;r.setTabsViewRoutes([]),setTimeout(()=>{r.setTabsViewRoutes(s)},200)},i=()=>{o.setLayout("showDrawer",!1)},C=()=>{J.remove(Ye),ee.remove(ne),c.go(0)};return(f,a)=>{const s=_("el-divider"),F=_("el-col"),E=_("el-row"),p=_("el-form-item"),A=_("el-option"),W=_("el-select"),V=_("el-color-picker"),v=_("el-switch"),I=_("el-input"),S=_("el-button"),q=_("el-popconfirm"),Z=_("el-form"),D=_("el-scrollbar"),g=_("el-drawer");return u(),B("div",At,[n(g,{"model-value":e(o).layout.showDrawer,title:e(t)("layouts.Layout configuration"),size:"310px",onClose:i},{default:l(()=>[n(D,{class:"layout-mode-style-scrollbar"},{default:l(()=>[n(Z,{ref:"formRef",model:e(o).layout},{default:l(()=>[m("div",Rt,[n(s,{"border-style":"dashed"},{default:l(()=>[$(x(e(t)("layouts.Layout mode")),1)]),_:1}),m("div",Ft,[n(E,{class:"layout-mode-box-style-row",gutter:10},{default:l(()=>[n(F,{span:12},{default:l(()=>[m("div",{onClick:a[0]||(a[0]=k=>h("Default")),class:P(["layout-mode-style default",e(o).layout.layoutMode=="Default"?"active":""])},[Lt,m("div",zt,x(e(t)("layouts.default")),1)],2)]),_:1}),n(F,{span:12},{default:l(()=>[m("div",{onClick:a[1]||(a[1]=k=>h("Classic")),class:P(["layout-mode-style classic",e(o).layout.layoutMode=="Classic"?"active":""])},[Et,m("div",Dt,x(e(t)("layouts.classic")),1)],2)]),_:1})]),_:1}),n(E,{gutter:10},{default:l(()=>[n(F,{span:12},{default:l(()=>[m("div",{onClick:a[2]||(a[2]=k=>h("Streamline")),class:P(["layout-mode-style streamline",e(o).layout.layoutMode=="Streamline"?"active":""])},[Nt,m("div",Pt,x(e(t)("layouts.Single column")),1)],2)]),_:1})]),_:1})]),n(s,{"border-style":"dashed"},{default:l(()=>[$(x(e(t)("layouts.overall situation")),1)]),_:1}),m("div",Wt,[n(p,{size:"large",label:e(t)("layouts.Dark mode")},{default:l(()=>[n(ut,{onClick:a[3]||(a[3]=k=>e(it)())})]),_:1},8,["label"]),n(p,{label:e(t)("layouts.Background page switching animation")},{default:l(()=>[n(W,{onChange:a[4]||(a[4]=k=>d(k,"mainAnimation")),"model-value":e(o).layout.mainAnimation,placeholder:e(t)("layouts.Please select an animation name")},{default:l(()=>[n(A,{label:"slide-right",value:"slide-right"}),n(A,{label:"slide-left",value:"slide-left"}),n(A,{label:"el-fade-in-linear",value:"el-fade-in-linear"}),n(A,{label:"el-fade-in",value:"el-fade-in"}),n(A,{label:"el-zoom-in-center",value:"el-zoom-in-center"}),n(A,{label:"el-zoom-in-top",value:"el-zoom-in-top"}),n(A,{label:"el-zoom-in-bottom",value:"el-zoom-in-bottom"})]),_:1},8,["model-value","placeholder"])]),_:1},8,["label"])]),n(s,{"border-style":"dashed"},{default:l(()=>[$(x(e(t)("layouts.sidebar")),1)]),_:1}),m("div",qt,[n(p,{label:e(t)("layouts.Side menu bar background color")},{default:l(()=>[n(V,{onChange:a[5]||(a[5]=k=>b(k,"menuBackground")),"model-value":e(o).getColorVal("menuBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(p,{label:e(t)("layouts.Side menu text color")},{default:l(()=>[n(V,{onChange:a[6]||(a[6]=k=>b(k,"menuColor")),"model-value":e(o).getColorVal("menuColor")},null,8,["model-value"])]),_:1},8,["label"]),n(p,{label:e(t)("layouts.Side menu active item background color")},{default:l(()=>[n(V,{onChange:a[7]||(a[7]=k=>b(k,"menuActiveBackground")),"model-value":e(o).getColorVal("menuActiveBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(p,{label:e(t)("layouts.Side menu active item text color")},{default:l(()=>[n(V,{onChange:a[8]||(a[8]=k=>b(k,"menuActiveColor")),"model-value":e(o).getColorVal("menuActiveColor")},null,8,["model-value"])]),_:1},8,["label"]),n(p,{label:e(t)("layouts.Show side menu top bar (logo bar)")},{default:l(()=>[n(v,{onChange:a[9]||(a[9]=k=>d(k,"menuShowTopBar")),"model-value":e(o).layout.menuShowTopBar},null,8,["model-value"])]),_:1},8,["label"]),n(p,{label:e(t)("layouts.Side menu top bar background color")},{default:l(()=>[n(V,{onChange:a[10]||(a[10]=k=>b(k,"menuTopBarBackground")),"model-value":e(o).getColorVal("menuTopBarBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(p,{label:e(t)("layouts.Side menu width (when expanded)")},{default:l(()=>[n(I,{onInput:a[11]||(a[11]=k=>d(k,"menuWidth")),type:"number",step:10,"model-value":e(o).layout.menuWidth},{append:l(()=>[$("px")]),_:1},8,["model-value"])]),_:1},8,["label"]),n(p,{label:e(t)("layouts.Side menu default icon")},{default:l(()=>[n(ft,{onChange:a[12]||(a[12]=k=>w(k,"menuDefaultIcon")),"model-value":e(o).layout.menuDefaultIcon},null,8,["model-value"])]),_:1},8,["label"]),n(p,{label:e(t)("layouts.Side menu horizontal collapse")},{default:l(()=>[n(v,{onChange:a[13]||(a[13]=k=>d(k,"menuCollapse")),"model-value":e(o).layout.menuCollapse},null,8,["model-value"])]),_:1},8,["label"]),n(p,{label:e(t)("layouts.Side menu accordion")},{default:l(()=>[n(v,{onChange:a[14]||(a[14]=k=>d(k,"menuUniqueOpened")),"model-value":e(o).layout.menuUniqueOpened},null,8,["model-value"])]),_:1},8,["label"])]),n(s,{"border-style":"dashed"},{default:l(()=>[$(x(e(t)("layouts.Top bar")),1)]),_:1}),m("div",Ut,[n(p,{label:e(t)("layouts.Top bar background color")},{default:l(()=>[n(V,{onChange:a[15]||(a[15]=k=>b(k,"headerBarBackground")),"model-value":e(o).getColorVal("headerBarBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(p,{label:e(t)("layouts.Top bar text color")},{default:l(()=>[n(V,{onChange:a[16]||(a[16]=k=>b(k,"headerBarTabColor")),"model-value":e(o).getColorVal("headerBarTabColor")},null,8,["model-value"])]),_:1},8,["label"]),n(p,{label:e(t)("layouts.Background color when hovering over the top bar")},{default:l(()=>[n(V,{onChange:a[17]||(a[17]=k=>b(k,"headerBarHoverBackground")),"model-value":e(o).getColorVal("headerBarHoverBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(p,{label:e(t)("layouts.Top bar menu active item background color")},{default:l(()=>[n(V,{onChange:a[18]||(a[18]=k=>b(k,"headerBarTabActiveBackground")),"model-value":e(o).getColorVal("headerBarTabActiveBackground")},null,8,["model-value"])]),_:1},8,["label"]),n(p,{label:e(t)("layouts.Top bar menu active item text color")},{default:l(()=>[n(V,{onChange:a[19]||(a[19]=k=>b(k,"headerBarTabActiveColor")),"model-value":e(o).getColorVal("headerBarTabActiveColor")},null,8,["model-value"])]),_:1},8,["label"])]),n(q,{onConfirm:C,title:e(t)("layouts.Are you sure you want to restore all configurations to the default values?")},{reference:l(()=>[m("div",Ot,[n(S,{class:"w80",type:"info"},{default:l(()=>[$(x(e(t)("layouts.Restore default")),1)]),_:1})])]),_:1},8,["title"])])]),_:1},8,["model"])]),_:1})]),_:1},8,["model-value","title"])])}}});const Kt=z(Ht,[["__scopeId","data-v-755d04c9"]]),Xt={class:"command"},Yt={class:"task-opt"},jt=["onClick"],Gt={class:"indent-2"},Jt={class:"package-manager-dialog-footer"},Qt={class:"config-buttons"},Zt=M({__name:"index",setup(y){const{t}=pe(),o=fe(),r=Y({terminalWarning:"",port:o.state.port,menuExpand:document.documentElement.clientWidth>1840}),c=ae(()=>{let a=o.state.port==""?"80":o.state.port;return a=="8000"?"php think run":"php think run -p "+a}),d=ae(()=>{let a=o.state.port==""?"":":"+o.state.port;return"http://localhost"+a+" "+t("terminal.or")+" http://"+t("terminal.Site domain name")+a}),b=a=>{Te({port:a}).then(s=>{s.code==1?(o.changePort(a),f()):r.port=o.state.port}).catch(()=>{r.port=o.state.port})},h=a=>{let s=t("terminal.unknown"),F="info";switch(a){case L.Waiting:s=t("terminal.Waiting for execution"),F="info";break;case L.Connecting:s=t("terminal.Connecting"),F="warning";break;case L.Executing:s=t("terminal.Executing"),F="warning";break;case L.Success:s=t("terminal.Successful execution"),F="success";break;case L.Failed:s=t("terminal.Execution failed"),F="danger";break;case L.Unknown:s=t("terminal.Unknown execution result"),F="danger";break}return{statusText:s,statusType:F}},w=()=>{ot.confirm(t("terminal.Are you sure you want to republish?"),t("Reminder"),{confirmButtonText:t("Confirm"),cancelButtonText:t("Cancel"),type:"warning"}).then(()=>{o.addTaskPM("web-build")})},i=a=>{Te({manager:a}).then(s=>{s.code==1&&o.changePackageManager(a)}),o.togglePackageManagerDialog(!1)},C=a=>{r.terminalWarning=a},f=()=>{Ge()!=o.state.port?C(t("terminal.The current terminal is not running under the installation service, and some commands may not be executed")):C("")};return De(()=>o.state.port,a=>{a!=r.port&&(r.port=a,f())}),G(()=>{f()}),(a,s)=>{const F=_("el-alert"),E=_("el-tag"),p=_("el-button"),A=_("Icon"),W=_("el-card"),V=_("el-timeline-item"),v=_("el-timeline"),I=_("el-empty"),S=_("el-button-group"),q=_("el-dialog"),Z=_("el-form"),D=nt("blur");return u(),B(N,null,[n(q,tt(a.$attrs,{modelValue:e(o).state.show,"onUpdate:modelValue":s[7]||(s[7]=g=>e(o).state.show=g),title:e(t)("terminal.Terminal"),class:"ba-terminal-dialog","append-to-body":!0}),{default:l(()=>[r.terminalWarning?(u(),T(F,{key:0,class:"terminal-warning-alert",title:r.terminalWarning,type:"error"},null,8,["title"])):R("",!0),e(o).state.taskList.length?(u(),T(v,{key:1},{default:l(()=>[(u(!0),B(N,null,Q(e(o).state.taskList,(g,k)=>(u(),T(V,{key:k,class:P(["task-item","task-status-"+g.status]),type:h(g.status).statusType,center:"",timestamp:g.createtime,placement:"top"},{default:l(()=>[n(W,null,{default:l(()=>[m("div",null,[n(E,{type:h(g.status).statusType},{default:l(()=>[$(x(h(g.status).statusText),1)]),_:2},1032,["type"]),(g.status==e(L).Failed||g.status==e(L).Unknown)&&g.blockOnFailure?(u(),T(E,{key:0,class:"block-on-failure-tag",type:"warning"},{default:l(()=>[$(x(e(t)("terminal.Failure to execute this command will block the execution of the queue")),1)]),_:1})):R("",!0),g.status==e(L).Executing||g.status==e(L).Connecting?(u(),T(E,{key:1,class:"block-on-failure-tag",type:"danger"},{default:l(()=>[$(x(e(t)("terminal.Do not refresh the browser")),1)]),_:1})):R("",!0),m("span",Xt,x(g.command),1),m("div",Yt,[g.status==e(L).Failed||g.status==e(L).Unknown?K((u(),T(p,{key:0,title:e(t)("Retry"),size:"small",type:"warning",icon:"el-icon-RefreshRight",circle:"",onClick:re=>e(o).retryTask(k)},null,8,["title","onClick"])),[[D]]):R("",!0),K(n(p,{onClick:re=>e(o).delTask(k),title:e(t)("delete"),size:"small",type:"danger",icon:"el-icon-Delete",circle:""},null,8,["onClick","title"]),[[D]])])]),g.status!=e(L).Waiting?(u(),B(N,{key:0},[g.status!=e(L).Connecting&&g.status!=e(L).Executing?(u(),B("div",{key:0,onClick:re=>e(o).setTaskShowMessage(k),class:"toggle-message-display"},[m("span",null,x(e(t)("terminal.Command run log")),1),n(A,{name:g.showMessage?"el-icon-ArrowUp":"el-icon-ArrowDown",size:"16",color:"#909399"},null,8,["name"])],8,jt)):R("",!0),g.status==e(L).Connecting||g.status==e(L).Executing||g.status>e(L).Executing&&g.showMessage?(u(),B("div",{key:1,class:P(["exec-message","exec-message-"+g.uuid])},[(u(!0),B(N,null,Q(g.message,(re,Xe)=>(u(),B("div",{key:Xe,class:"message-item"},x(re),1))),128))],2)):R("",!0)],64)):R("",!0)]),_:2},1024)]),_:2},1032,["class","type","timestamp"]))),128))]),_:1})):(u(),T(I,{key:2,"image-size":80,description:e(t)("terminal.No mission yet")},null,8,["description"])),n(S,null,{default:l(()=>[K((u(),T(p,{class:"terminal-menu-item",icon:"el-icon-MagicStick",onClick:s[0]||(s[0]=g=>e(o).addTaskPM("test",!1))},{default:l(()=>[$(x(e(t)("terminal.Test command")),1)]),_:1})),[[D]]),K((u(),T(p,{class:"terminal-menu-item",icon:"el-icon-Download",onClick:s[1]||(s[1]=g=>e(o).addTaskPM("web-install"))},{default:l(()=>[$(x(e(t)("terminal.Install dependent packages")),1)]),_:1})),[[D]]),K((u(),T(p,{class:"terminal-menu-item",icon:"el-icon-Sell",onClick:s[2]||(s[2]=g=>w())},{default:l(()=>[$(x(e(t)("terminal.Republish")),1)]),_:1})),[[D]]),r.menuExpand?(u(),B(N,{key:1},[K((u(),T(p,{class:"terminal-menu-item",icon:"el-icon-Delete",onClick:s[4]||(s[4]=g=>e(o).clearSuccessTask())},{default:l(()=>[$(x(e(t)("terminal.Clean up task list")),1)]),_:1})),[[D]]),K((u(),T(p,{class:"terminal-menu-item",icon:"el-icon-Switch",onClick:s[5]||(s[5]=g=>e(o).togglePackageManagerDialog(!0))},{default:l(()=>[$(x(e(t)("terminal.Package manager"))+" "+x(e(o).state.packageManager.toUpperCase()),1)]),_:1})),[[D]]),K((u(),T(p,{class:"terminal-menu-item",icon:"el-icon-Tools",onClick:s[6]||(s[6]=g=>e(o).toggleConfigDialog())},{default:l(()=>[$(x(e(t)("terminal.Terminal settings")),1)]),_:1})),[[D]])],64)):K((u(),T(p,{key:0,class:"terminal-menu-item",icon:"el-icon-Expand",onClick:s[3]||(s[3]=g=>r.menuExpand=!0)},null,512)),[[D]])]),_:1})]),_:1},16,["modelValue","title"]),n(q,{onClose:s[14]||(s[14]=g=>e(o).togglePackageManagerDialog(!1)),"model-value":e(o).state.showPackageManagerDialog,class:"ba-terminal-dialog",title:e(t)("terminal.Please select package manager"),center:""},{footer:l(()=>[m("div",Jt,[n(p,{onClick:s[8]||(s[8]=g=>i("npm"))},{default:l(()=>[$("npm")]),_:1}),n(p,{onClick:s[9]||(s[9]=g=>i("cnpm"))},{default:l(()=>[$("cnpm")]),_:1}),n(p,{onClick:s[10]||(s[10]=g=>i("pnpm"))},{default:l(()=>[$("pnpm")]),_:1}),n(p,{onClick:s[11]||(s[11]=g=>i("yarn"))},{default:l(()=>[$("yarn")]),_:1}),n(p,{onClick:s[12]||(s[12]=g=>i("ni"))},{default:l(()=>[$("ni")]),_:1}),n(p,{onClick:s[13]||(s[13]=g=>i("none"))},{default:l(()=>[$(x(e(t)("terminal.I want to execute the command manually")),1)]),_:1})])]),default:l(()=>[m("div",Gt,x(e(t)("terminal.Switch package manager title")),1)]),_:1},8,["model-value","title"]),n(q,{onClose:s[19]||(s[19]=g=>e(o).toggleConfigDialog(!1)),"model-value":e(o).state.showConfig,class:"ba-terminal-dialog",title:e(t)("terminal.Terminal settings")},{default:l(()=>[n(Z,{"label-position":"top"},{default:l(()=>[n(ce,{label:e(t)("terminal.Install service port"),modelValue:r.port,"onUpdate:modelValue":s[15]||(s[15]=g=>r.port=g),type:"number","input-attr":{onChange:b},placeholder:e(t)("terminal.The port number to start the installation service (this port needs to be opened for external network access)")},null,8,["label","modelValue","input-attr","placeholder"]),n(ce,{label:e(t)("terminal.Installation service startup command"),modelValue:e(c),"onUpdate:modelValue":s[16]||(s[16]=g=>Be(c)?c.value=g:null),type:"string","input-attr":{disabled:!0},attr:{"block-help":e(t)("terminal.Please execute this command to start the service (add Su under Linux)")}},null,8,["label","modelValue","attr"]),n(ce,{label:e(t)("terminal.Installation service URL"),modelValue:e(d),"onUpdate:modelValue":s[17]||(s[17]=g=>Be(d)?d.value=g:null),type:"string","input-attr":{disabled:!0},attr:{"block-help":e(t)("terminal.Please access the site through the installation service URL (except in debug mode)")}},null,8,["label","modelValue","attr"])]),_:1}),n(ce,{label:e(t)("terminal.Clean up successful tasks when starting a new task"),"model-value":e(o).state.automaticCleanupTask,type:"radio",data:{content:{0:e(t)("Disable"),1:e(t)("Enable")},childrenAttr:{border:!0}},"input-attr":{onChange:e(o).changeAutomaticCleanupTask}},null,8,["label","model-value","data","input-attr"]),m("div",Qt,[n(p,{onClick:s[18]||(s[18]=g=>e(o).toggleConfigDialog(!1))},{default:l(()=>[$(x(e(t)("terminal.Back to terminal")),1)]),_:1})])]),_:1},8,["model-value","title"])],64)}}});const eo=z(Zt,[["__scopeId","data-v-0b70a3d1"]]),to={class:"nav-menu-item"},oo=["src"],no={class:"admin-name"},ao={class:"admin-info-base"},lo=["src"],so={class:"admin-info-other"},ro={class:"admin-info-name"},co={class:"admin-info-lasttime"},uo={class:"admin-info-footer"},io=M({__name:"navMenus",setup(y){j(f=>({d45338c0:e(r).getColorVal("headerBarBackground"),"1d0a0a00":e(r).getColorVal("headerBarTabColor"),"38491e86":e(r).getColorVal("headerBarHoverBackground")}));const{t}=pe(),o=Ae(),r=O(),c=fe(),d=Y({isFullScreen:!1,currentNavMenu:"",showLayoutDrawer:!1}),b=(f,a)=>{d.currentNavMenu=f?a:""},h=()=>{if(!ue.isEnabled)return at.warning(t("layouts.Full screen is not supported")),!1;ue.toggle(),ue.onchange(()=>{d.isFullScreen=ue.isFullscreen})},w=()=>{de({name:"routine/adminInfo"})},i=()=>{vt().then(()=>{J.remove(me),Re.go(0)})},C=f=>{if(f=="storage"||f=="all"){const a=J.get(me),s=J.get(we);if(ee.clear(),J.clear(),J.set(me,a),J.set(we,s),f=="storage")return}Je(f).then(()=>{})};return(f,a)=>{const s=_("Icon"),F=_("router-link"),E=_("el-dropdown-item"),p=_("el-dropdown-menu"),A=_("el-dropdown"),W=_("el-badge"),V=_("el-avatar"),v=_("el-button"),I=_("el-popover");return u(),B("div",{class:P(["nav-menus",e(r).layout.layoutMode])},[n(F,{class:"h100",target:"_blank",title:e(t)("Home"),to:"/"},{default:l(()=>[m("div",to,[n(s,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-Monitor",size:"18"},null,8,["color"])])]),_:1},8,["title"]),n(A,{onVisibleChange:a[0]||(a[0]=S=>b(S,"lang")),class:"h100",size:"large","hide-timeout":50,placement:"bottom",trigger:"click","hide-on-click":!0},{dropdown:l(()=>[n(p,{class:"dropdown-menu-box"},{default:l(()=>[(u(!0),B(N,null,Q(e(r).lang.langArray,S=>(u(),T(E,{key:S.name,onClick:q=>e(je)(S.name)},{default:l(()=>[$(x(S.value),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:l(()=>[m("div",{class:P(["nav-menu-item pt2",d.currentNavMenu=="lang"?"hover":""])},[n(s,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-lang",size:"18"},null,8,["color"])],2)]),_:1}),m("div",{onClick:h,class:P(["nav-menu-item",d.isFullScreen?"hover":""])},[d.isFullScreen?(u(),T(s,{key:0,color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-full-screen-cancel",size:"18"},null,8,["color"])):(u(),T(s,{key:1,color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-FullScreen",size:"18"},null,8,["color"]))],2),e(o).super?(u(),B("div",{key:0,onClick:a[1]||(a[1]=S=>e(c).toggle()),class:"nav-menu-item pt2"},[n(W,{"is-dot":e(c).state.showDot},{default:l(()=>[n(s,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-terminal",size:"26"},null,8,["color"])]),_:1},8,["is-dot"])])):R("",!0),e(o).super?(u(),T(A,{key:1,onVisibleChange:a[5]||(a[5]=S=>b(S,"clear")),class:"h100",size:"large","hide-timeout":50,placement:"bottom",trigger:"click","hide-on-click":!0},{dropdown:l(()=>[n(p,{class:"dropdown-menu-box"},{default:l(()=>[n(E,{onClick:a[2]||(a[2]=S=>C("tp"))},{default:l(()=>[$(x(e(t)("utils.Clean up system cache")),1)]),_:1}),n(E,{onClick:a[3]||(a[3]=S=>C("storage"))},{default:l(()=>[$(x(e(t)("utils.Clean up browser cache")),1)]),_:1}),n(E,{onClick:a[4]||(a[4]=S=>C("all")),divided:""},{default:l(()=>[$(x(e(t)("utils.Clean up all cache")),1)]),_:1})]),_:1})]),default:l(()=>[m("div",{class:P(["nav-menu-item",d.currentNavMenu=="clear"?"hover":""])},[n(s,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-Delete",size:"18"},null,8,["color"])],2)]),_:1})):R("",!0),n(I,{onShow:a[6]||(a[6]=S=>b(!0,"adminInfo")),onHide:a[7]||(a[7]=S=>b(!1,"adminInfo")),placement:"bottom-end","hide-after":0,width:260,trigger:"click","popper-class":"admin-info-box"},{reference:l(()=>[m("div",{class:P(["admin-info",d.currentNavMenu=="adminInfo"?"hover":""])},[n(V,{size:25,fit:"fill"},{default:l(()=>[m("img",{src:e(o).avatar,alt:""},null,8,oo)]),_:1}),m("div",no,x(e(o).nickname),1)],2)]),default:l(()=>[m("div",null,[m("div",ao,[n(V,{size:70,fit:"fill"},{default:l(()=>[m("img",{src:e(o).avatar,alt:""},null,8,lo)]),_:1}),m("div",so,[m("div",ro,x(e(o).nickname),1),m("div",co,x(e(o).lastlogintime),1)])]),m("div",uo,[n(v,{onClick:w,type:"primary",plain:""},{default:l(()=>[$(x(e(t)("layouts.personal data")),1)]),_:1}),n(v,{onClick:i,type:"danger",plain:""},{default:l(()=>[$(x(e(t)("layouts.cancellation")),1)]),_:1})])])]),_:1}),m("div",{onClick:a[8]||(a[8]=S=>e(r).setLayout("showDrawer",!0)),class:"nav-menu-item"},[n(s,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"fa fa-cogs",size:"18"},null,8,["color"])]),n(Kt),n(eo)],2)}}});const he=z(io,[["__scopeId","data-v-e2acf89f"]]),mo={class:"nav-bar"},_o=M({__name:"default",setup(y){j(o=>({"341e91f0":e(t).getColorVal("headerBarTabColor"),"7d0afb8a":e(t).getColorVal("headerBarTabActiveColor"),"5eccd556":e(t).getColorVal("headerBarTabActiveBackground")}));const t=O();return(o,r)=>(u(),B("div",mo,[n(Ke),n(he)]))}});const po=z(_o,[["__scopeId","data-v-8d90b156"]]),fo={class:"nav-bar"},vo={key:0,class:"unfold"},go=M({__name:"classic",setup(y){j(r=>({"88b2895c":e(t).getColorVal("headerBarBackground"),"6a10a632":e(t).getColorVal("headerBarTabColor"),d50d5368:e(t).getColorVal("headerBarTabActiveColor"),"4c5473d8":e(t).getColorVal("headerBarHoverBackground"),a7c0b85a:e(t).getColorVal("headerBarTabActiveBackground")}));const t=O(),o=()=>{mt("ba-aside-menu-shade",()=>{t.setLayout("menuCollapse",!0)}),t.setLayout("menuCollapse",!1)};return(r,c)=>{const d=_("Icon");return u(),B("div",fo,[e(t).layout.shrink&&e(t).layout.menuCollapse?(u(),B("div",vo,[n(d,{onClick:o,name:"fa fa-indent",color:e(t).getColorVal("menuActiveColor"),size:"18"},null,8,["color"])])):R("",!0),e(t).layout.shrink?R("",!0):(u(),T(Ke,{key:1})),n(he)])}}});const yo=z(go,[["__scopeId","data-v-af750839"]]),bo={class:"layouts-menu-horizontal"},ho={key:0,class:"menu-horizontal-logo"},Co=M({__name:"menuHorizontal",setup(y){j(i=>({"26fce45c":e(o).getColorVal("headerBarHoverBackground"),"1b1497db":e(o).getColorVal("menuBackground"),"32adfd44":e(o).getColorVal("menuColor"),aaacd044:e(o).getColorVal("menuActiveColor"),"39138d81":e(o).getColorVal("menuActiveBackground")}));const t=ie(),o=O(),r=H(),c=se(),d=Y({menuKey:$e(),defaultActive:""}),b=ae(()=>(d.menuKey=$e(),r.state.tabsViewRoutes)),h=i=>{d.defaultActive=i.path},w=()=>{le(()=>{var C;let i=document.querySelector(".el-menu.menu-horizontal li.is-active");if(!i)return!1;(C=t.value)==null||C.setScrollTop(i.offsetTop)})};return G(()=>{h(c),w()}),ve(i=>{h(i)}),(i,C)=>{const f=_("Icon"),a=_("el-sub-menu"),s=_("el-menu-item"),F=_("el-menu"),E=_("el-scrollbar");return u(),B("div",bo,[e(o).layout.menuShowTopBar?(u(),B("div",ho,[n(qe)])):R("",!0),n(E,{ref_key:"horizontalMenusRef",ref:t,class:"horizontal-menus-scrollbar"},{default:l(()=>[(u(),T(F,{class:"menu-horizontal",mode:"horizontal","default-active":d.defaultActive,key:d.menuKey},{default:l(()=>[(u(!0),B(N,null,Q(e(b),p=>(u(),B(N,null,[p.children&&p.children.length>0?(u(),T(a,{index:p.path,key:p.path},{title:l(()=>{var A,W,V,v;return[n(f,{color:e(o).getColorVal("menuColor"),name:(A=p.meta)!=null&&A.icon?(W=p.meta)==null?void 0:W.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,x((V=p.meta)!=null&&V.title?(v=p.meta)==null?void 0:v.title:i.$t("noTitle")),1)]}),default:l(()=>[n(Ue,{menus:p.children},null,8,["menus"])]),_:2},1032,["index"])):(u(),T(s,{index:p.path,key:p.path,onClick:A=>e(Pe)(p)},{default:l(()=>{var A,W,V,v;return[n(f,{color:e(o).getColorVal("menuColor"),name:(A=p.meta)!=null&&A.icon?(W=p.meta)==null?void 0:W.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,x((V=p.meta)!=null&&V.title?(v=p.meta)==null?void 0:v.title:i.$t("noTitle")),1)]}),_:2},1032,["index","onClick"]))],64))),256))]),_:1},8,["default-active"]))]),_:1},512),n(he)])}}});const ko=z(Co,[["__scopeId","data-v-6720872c"]]),xo=M({name:"layout/header",components:{DefaultNavBar:po,ClassicNavBar:yo,StreamlineNavBar:ko}}),wo=M({...xo,setup(y){const t=O(),o=H();return(r,c)=>{const d=_("el-header");return e(o).state.tabFullScreen?R("",!0):(u(),T(d,{key:0,class:"layout-header"},{default:l(()=>[(u(),T(ye(e(t).layout.layoutMode+"NavBar")))]),_:1}))}}});const Ce=z(wo,[["__scopeId","data-v-cd7e1bf7"]]),To=M({name:"layout/main"}),So=M({...To,setup(y){const{proxy:t}=He(),o=se(),r=O(),c=H(),d=Y({componentKey:o.path,keepAliveComponentNameList:[]}),b=function(h){if(h){if(d.keepAliveComponentNameList.find(i=>i===h))return;d.keepAliveComponentNameList.push(h)}};return Ne(()=>{t.eventBus.on("onTabViewRefresh",h=>{d.keepAliveComponentNameList=d.keepAliveComponentNameList.filter(w=>h.meta.keepalive!==w),d.componentKey="",le(()=>{d.componentKey=h.path,b(h.meta.keepalive)})}),t.eventBus.on("onTabViewClose",h=>{d.keepAliveComponentNameList=d.keepAliveComponentNameList.filter(w=>h.meta.keepalive!==w)})}),lt(()=>{t.eventBus.off("onTabViewRefresh"),t.eventBus.off("onTabViewClose")}),G(()=>{var h,w;typeof((h=c.state.activeRoute)==null?void 0:h.meta.keepalive)=="string"&&b((w=c.state.activeRoute)==null?void 0:w.meta.keepalive)}),De(()=>o.path,()=>{var h,w;d.componentKey=o.path,typeof((h=c.state.activeRoute)==null?void 0:h.meta.keepalive)=="string"&&b((w=c.state.activeRoute)==null?void 0:w.meta.keepalive)}),(h,w)=>{const i=_("router-view"),C=_("el-scrollbar"),f=_("el-main");return u(),T(f,{class:"layout-main"},{default:l(()=>[n(C,{class:"layout-main-scrollbar",style:te(e(yt)()),ref:"mainScrollbarRef"},{default:l(()=>[n(i,null,{default:l(({Component:a})=>[n(ge,{name:e(r).layout.mainAnimation,mode:"out-in"},{default:l(()=>[(u(),T(st,{include:d.keepAliveComponentNameList},[(u(),T(ye(a),{key:d.componentKey}))],1032,["include"]))]),_:2},1032,["name"])]),_:1})]),_:1},8,["style"])]),_:1})}}});const ke=z(So,[["__scopeId","data-v-1af00f4e"]]),Bo=y=>(ze("data-v-0aa634f1"),y=y(),Ee(),y),$o=["title","onMouseover","onMouseout"],Io=["onClick"],Vo=Bo(()=>m("div",{class:"close-full-screen-on"},null,-1)),Mo=M({__name:"closeFullScreen",setup(y){const t=H(),o=Y({closeBoxTop:20});G(()=>{setTimeout(()=>{o.closeBoxTop=-30},300)});const r=()=>{o.closeBoxTop=20},c=()=>{o.closeBoxTop=-30},d=()=>{t.setFullScreen(!1)};return(b,h)=>{const w=_("Icon");return u(),B("div",{title:b.$t("layouts.Exit full screen"),onMouseover:oe(r,["stop"]),onMouseout:oe(c,["stop"])},[m("div",{onClick:oe(d,["stop"]),class:"close-full-screen",style:te({top:o.closeBoxTop+"px"})},[n(w,{name:"el-icon-Close"})],12,Io),Vo],40,$o)}}});const xe=z(Mo,[["__scopeId","data-v-0aa634f1"]]),Ao=M({__name:"default",setup(y){const t=H();return(o,r)=>{const c=_("el-container");return u(),B(N,null,[n(c,{class:"layout-container"},{default:l(()=>[n(Oe),n(c,{class:"content-wrapper"},{default:l(()=>[n(Ce),n(ke)]),_:1})]),_:1}),e(t).state.tabFullScreen?(u(),T(xe,{key:0})):R("",!0)],64)}}});const Ro=z(Ao,[["__scopeId","data-v-59d252c1"]]),Fo=M({__name:"classic",setup(y){const t=H();return(o,r)=>{const c=_("el-container");return u(),B(N,null,[n(c,{class:"layout-container"},{default:l(()=>[n(Oe),n(c,{class:"content-wrapper"},{default:l(()=>[n(Ce),n(ke)]),_:1})]),_:1}),e(t).state.tabFullScreen?(u(),T(xe,{key:0})):R("",!0)],64)}}});const Lo=z(Fo,[["__scopeId","data-v-fb349671"]]),zo=M({__name:"streamline",setup(y){const t=H();return(o,r)=>{const c=_("el-container");return u(),B(N,null,[n(c,{class:"layout-container"},{default:l(()=>[n(c,{class:"content-wrapper"},{default:l(()=>[n(Ce),n(ke)]),_:1})]),_:1}),e(t).state.tabFullScreen?(u(),T(xe,{key:0})):R("",!0)],64)}}});const Eo=z(zo,[["__scopeId","data-v-fcdc1bd3"]]),Do={components:{Default:Ro,Classic:Lo,Streamline:Eo}},nn=M({...Do,__name:"index",setup(y){const t=fe(),o=H(),r=O(),c=se(),d=Me(),b=Ae();G(()=>{if(!b.token)return Re.push({name:"adminLogin"});h(),i(),_e(window,"resize",i)}),Ne(()=>{w(),_e(window,"resize",w)});const h=()=>{gt().then(C=>{if(d.dataFill(C.data.siteConfig),t.changePort(C.data.terminal.installServicePort),t.changePackageManager(C.data.terminal.npmPackageManager),b.dataFill(C.data.adminInfo),C.data.menus){if(_t(C.data.menus),c.params.to){const a=JSON.parse(c.params.to);if(a.path!=Qe.path){let s=rt(a.query)?{}:a.query;de({path:a.path,query:s});return}}let f=We(o.state.tabsViewRoutes);f&&de(f.path)}})},w=()=>{let C={layoutMode:r.layout.layoutMode,menuCollapse:r.layout.menuCollapse},f=ee.get(ne);if(f||ee.set(ne,C),document.body.clientWidth<1024)r.setLayout("menuCollapse",!0),r.setLayout("shrink",!0),r.setLayoutMode("Classic");else{let s=f||C;r.setLayout("menuCollapse",s.menuCollapse),r.setLayout("shrink",!1),r.setLayoutMode(s.layoutMode)}},i=()=>{const C=document.querySelector(".nav-tabs");if(!C)return;const f=document.querySelector(".nav-bar"),a=document.querySelector(".nav-menus"),s=f.offsetWidth-(a.offsetWidth+20);C.style.width=s.toString()+"px"};return(C,f)=>(u(),T(ye(e(r).layout.layoutMode)))}});export{nn as default};
